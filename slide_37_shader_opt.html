<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Open+Sans:wght@400;600;700&family=Roboto:wght@400;500;700&family=Fira+Code:wght@400;600&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        .slide-container {
          width: 100vw;
height: 100vh;           /* ðŸ”¥ critical */
            background: url('background.svg') no-repeat center center, #FFFFFF;
            font-family: 'Open Sans', sans-serif;
            position: relative;
            overflow: hidden;
            padding-top: 60px; /* Keep upper title padding consistent */
            color: #1F2937;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 48px;
            font-weight: 800;
            color: #111827;
            margin-bottom: 15px;
        }

        .bar {
            width: 80px;
            height: 6px;
            background: #1C4ED8;
            margin: 0 auto;
        }

        .content-wrapper {
            display: flex;
            padding: 0 80px;
            gap: 60px;
        }

        .principles-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .principle-box {
            border-left: 6px solid #1C4ED8;
            padding-left: 20px;
        }

        .principle-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 22px;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .principle-desc {
            font-size: 16px;
            color: #4B5563;
            line-height: 1.5;
        }

        .highlight {
            background: #EFF6FF;
            color: #1E40AF;
            padding: 2px 6px;
            font-family: 'Fira Code', monospace;
            font-weight: 600;
            font-size: 14px;
        }

        .code-column {
            flex: 1.2;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .code-panel {
            background: #1E1E1E;
            border: 1px solid #333;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            color: #D4D4D4;
        }

        .panel-header {
            background: #252526;
            padding: 8px 15px;
            border-bottom: 1px solid #333;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-badge {
            padding: 2px 8px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .bad { background: #DC2626; color: white; }
        .good { background: #059669; color: white; }

        .code-content {
            padding: 20px;
            line-height: 1.6;
        }

        .line {
            display: block;
        }

        .comment { color: #6A9955; }
        .keyword { color: #569CD6; }
        .type { color: #4EC9B0; }
        .variable { color: #9CDCFE; }
        .number { color: #B5CEA8; }

        .diff-remove {
            background: rgba(220, 38, 38, 0.2);
            display: block;
            margin: 0 -20px;
            padding: 0 20px;
        }

        .diff-add {
            background: rgba(5, 150, 105, 0.2);
            display: block;
            margin: 0 -20px;
            padding: 0 20px;
        }

        .math-box {
            margin-top: 20px;
            background: #F3F4F6;
            padding: 20px;
            border: 1px solid #E5E7EB;
        }

        .math-title {
            font-weight: 700;
            color: #374151;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .math-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
        }

    </style>
</head>
<body>
    <div class="slide-container">
        <div class="header">
            <h1>Shader Optimization</h1>
            <div class="bar"></div>
        </div>

        <div class="content-wrapper">
            <div class="principles-column">
                <div class="principle-box">
                    <div class="principle-title">Precision: Half vs Float</div>
                    <div class="principle-desc">
                        Mobile GPUs love <span class="highlight">half</span> (16-bit). It uses half the memory and bandwidth of <span class="highlight">float</span> (32-bit). Use <code>half</code> for colors, UVs, and normals. Only use <code>float</code> for world positions.
                    </div>
                </div>

                <div class="principle-box" style="border-color: #DC2626;">
                    <div class="principle-title">Avoid Branching</div>
                    <div class="principle-desc">
                        Do not use <code>if/else</code> statements inside shaders. GPUs process pixels in parallel groups; if one pixel takes a different branch, the whole group waits.
                    </div>
                </div>

                <div class="principle-box" style="border-color: #059669;">
                    <div class="principle-title">Vertex vs Fragment</div>
                    <div class="principle-desc">
                        Move calculations from the Fragment Shader (runs per pixel) to the Vertex Shader (runs per vertex).
                    </div>
                </div>
            </div>

            <div class="code-column">
                <!-- Bad Code -->
                <div class="code-panel">
                    <div class="panel-header">
                        <span>HeavyShader.shader</span>
                        <span class="status-badge bad">Expensive</span>
                    </div>
                    <div class="code-content">
                        <span class="line"><span class="type">float4</span> frag (v2f i) : SV_Target {</span>
                        <span class="line diff-remove">    <span class="type">float4</span> color = tex2D(_MainTex, i.uv);</span>
                        <span class="line diff-remove">    <span class="keyword">if</span> (color.a < 0.1) discard; <span class="comment">// Branching!</span></span>
                        <span class="line diff-remove">    <span class="type">float</span> dist = distance(i.pos, _WorldSpaceCameraPos);</span>
                        <span class="line">    <span class="keyword">return</span> color * dist;</span>
                        <span class="line">}</span>
                    </div>
                </div>

                <!-- Good Code -->
                <div class="code-panel">
                    <div class="panel-header">
                        <span>FastShader.shader</span>
                        <span class="status-badge good">Optimized</span>
                    </div>
                    <div class="code-content">
                        <span class="line"><span class="type">half4</span> frag (v2f i) : SV_Target {</span>
                        <span class="line diff-add">    <span class="type">half4</span> color = tex2D(_MainTex, i.uv);</span>
                        <span class="line diff-add">    <span class="comment">// Math moved to Vertex Shader!</span></span>
                        <span class="line diff-add">    <span class="comment">// Precision reduced to half</span></span>
                        <span class="line">    <span class="keyword">return</span> color * i.precalcDist;</span>
                        <span class="line">}</span>
                    </div>
                </div>

                <div class="math-box">
                    <div class="math-title">Why move to Vertex Shader?</div>
                    <div class="math-stat">
                        <span>Vertex Executions:</span>
                        <span style="font-weight: 700;">~100,000 / frame</span>
                    </div>
                    <div class="math-stat">
                        <span>Fragment Executions:</span>
                        <span style="font-weight: 700; color: #DC2626;">~4,000,000 / frame</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
